# Техническая аналитика проекта

## Системные требования

### Минимальные требования
- **CPU**: 4 ядра, 2.5 GHz
- **RAM**: 8 GB
- **Диск**: 50 GB свободного места
- **ОС**: Windows 10/11, Ubuntu 18.04+, CentOS 7+

### Рекомендуемые требования
- **CPU**: 8 ядер, 3.0 GHz
- **RAM**: 16 GB
- **Диск**: 100 GB SSD
- **GPU**: NVIDIA GTX 1060+ (для ускорения ML)

## Архитектура системы

### Компоненты системы

1. **Web Server (FastAPI)**
   - Обработка HTTP запросов
   - API для загрузки файлов
   - Веб-интерфейс

2. **ML Service**
   - Модель машинного обучения
   - Предобработка текста
   - Предсказание оценок

3. **Database (PostgreSQL)**
   - Хранение данных экзаменов
   - Кэширование результатов
   - Статистика системы

4. **Audio Service**
   - Обработка аудиофайлов
   - Транскрибация речи
   - Конвертация форматов

### Схема взаимодействия

```
[Frontend] → [FastAPI] → [ML Service] → [Database]
                ↓
         [Audio Service]
```

## Производительность

### Пропускная способность
- **Обработка CSV**: до 10,000 записей/минуту
- **Транскрибация аудио**: 1 файл/секунду
- **Одновременные пользователи**: до 100

### Время отклика
- **Загрузка файла**: < 2 сек
- **Обработка 1000 записей**: < 30 сек
- **Предсказание одного ответа**: < 100 мс

## Масштабируемость

### Горизонтальное масштабирование
- Использование Docker Swarm/Kubernetes
- Load Balancer (Nginx)
- Репликация базы данных

### Вертикальное масштабирование
- Увеличение CPU/RAM
- SSD диски для БД
- GPU для ML вычислений

## Безопасность

### Меры защиты
- HTTPS шифрование
- Валидация входных данных
- Rate limiting
- Логирование действий

### Конфиденциальность
- Шифрование данных в БД
- Автоудаление временных файлов
- Анонимизация персональных данных

## Мониторинг

### Метрики системы
- CPU/RAM использование
- Время отклика API
- Количество ошибок
- Пропускная способность

### Логирование
- Структурированные логи (JSON)
- Ротация логов
- Централизованный сбор логов

## Развертывание

### Локальное развертывание
```bash
# Клонирование репозитория
git clone <repository-url>
cd exam-scoring-system

# Установка зависимостей
pip install -r requirements.txt

# Настройка БД
createdb exam_db
python -m alembic upgrade head

# Запуск приложения
python backend/main.py
```

### Docker развертывание
```bash
# Сборка и запуск
docker-compose up -d

# Проверка статуса
docker-compose ps

# Просмотр логов
docker-compose logs -f web
```

### Продакшн развертывание
- Использование Gunicorn/uWSGI
- Nginx как reverse proxy
- SSL сертификаты
- Автоматические бэкапы БД

## Обслуживание

### Регулярные задачи
- Обновление ML модели
- Очистка временных файлов
- Бэкап базы данных
- Мониторинг производительности

### Обновления
- Blue-green deployment
- Миграции БД
- Тестирование на staging

## Интеграция

### API Endpoints
- `POST /upload-csv/` - загрузка CSV файла
- `GET /download/{filename}` - скачивание результата
- `POST /predict-single/` - оценка одного ответа
- `GET /api/stats` - статистика системы
- `GET /health` - проверка состояния

### Внешние сервисы
- Google Speech-to-Text API
- Yandex SpeechKit
- Telegram Bot API (опционально)

## Тестирование

### Типы тестов
- Unit тесты (pytest)
- Integration тесты
- Load тесты (Locust)
- E2E тесты (Selenium)

### Покрытие кода
- Минимум 80% покрытие
- Автоматические тесты в CI/CD
- Тестирование ML модели

## Резервное копирование

### Стратегия бэкапов
- Ежедневные бэкапы БД
- Недельные полные бэкапы
- Хранение в облаке
- Тестирование восстановления

### Восстановление
- RTO: 4 часа
- RPO: 24 часа
- Документированная процедура
- Регулярные drill-тесты